<ion-view title="{{selectedGroup.get('group')}}" hide-back-button="true">
    <ion-nav-buttons side="left">
        <button class="button button-clear" ng-click="goToBalanceOverview()">
            <i class="icon ion-ios7-arrow-back"></i>
            Back
        </button>
    </ion-nav-buttons>
    <ion-nav-buttons side="right" ng-if="selectedGroup!=undefined" ng-click="goToGroupEdit(selectedGroup)">
        <button class="button button-clear" ng-click="goToGroupEdit(selectedGroup)">
            <span>
              <img src="{{selectedGroup.get('icon').url()}}" height="32px" style="border-radius: 50px">
          </span>
        </button>
    </ion-nav-buttons>
  <ion-content>
      <ion-list>
          <!--<ion-refresher-->
                  <!--pulling-icon="icon ion-arrow-down-c"-->
                  <!--refreshing-icon="icon ion-loading-c"-->
                  <!--on-refresh="loadGroup()">-->
          <!--</ion-refresher>-->
          <ion-item class="item item-icon-right" ng-click="openTrans()">
              <i id="tran_loading" class="ion-loading-c" style="visibility: {{loading}}"></i>
              Your Group Balance is
              <span class="item-note" style="color:black">
                <span ng-if="balance.get('balance')<0">
                    $<span style="color: red">{{balance.get('balance') | number:2}}</span>
                </span>
                <span ng-if="balance.get('balance')>=0">
                    $<span style="color:olivedrab">{{balance.get('balance')| number:2}}</span>
                </span>
              </span>
              <i class="icon ion-ios7-arrow-forward" style="color: gray; font-size: larger"></i>
          </ion-item>
          <ion-item class="item item-divider">
              <!--<i id="tran_loading" class="ion-loading-c" style="visibility: {{loading}}"></i>-->
              <label class="item item-input" style="border-radius: 5px;height: 30px">
                  <i class="icon ion-search placeholder-icon"></i>
                  <input id="search_text" type="text" placeholder="Search" class="" style="height: 20px;"  ng-model="searchText" ng-change="searchFriend(searchText)">
                  <!--<input id="search_text" type="text" placeholder="Search" class="" style="height: 20px;"  onkeyup="this.value!=''?search_cancel.style.visibility='visible':search_cancel.style.visibility='hidden'">-->
                  <!--<button id="search_cancel" class="button button-clear" ng-click="alert()"  style="visibility: hidden" >-->
                  <!--<i class="ion-close-circled"></i>-->
                  <!--</button>-->
              </label>
          </ion-item>

          <ion-item class="item item-avatar item-icon-right item-button-right" style="font-size: medium;" ng-repeat="bal in balancesFiltered" >
              <img src="{{bal.get('user').get('icon').url()}}"  width="50px" style="border-radius: 10px" ng-if="bal.get('user').get('icon').url()!=undefined">
              <img src="./img/people.png"  width="50px" style="border-radius: 10px" ng-if="bal.get('user').get('icon').url()==undefined">

                 <span>
                  {{bal.get('user').get('username')}} balance is
                </span>
              <br>
               <span class="item-note" style="color:black">
                    <span ng-if="bal.get('balance')<0">
                       $ <span style="color: red">{{bal.get('balance')| number:2}}</span>
                    </span>
                    <span ng-if="bal.get('balance')>=0">
                      $ <span style="color:olivedrab">{{bal.get('balance')| number:2}}</span>
                    </span>
                </span>

              <br>
              <span style="font-size: x-small;color:gray">Last transaction on <b>{{bal.createdAt.toLocaleDateString()}}</b></span>
              <button class="button button-clear" ng-click="goToSend(bal.get('user'))" ng-if="user.id!=bal.get('user').id">
                  <i class="icon ion-ios7-keypad"></i>

              </button>

          </ion-item>
      </ion-list>
  </ion-content>
</ion-view>
